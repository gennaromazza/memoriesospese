
<IfModule mod_rewrite.c>
  RewriteEngine On

  # Redirect se manca lo slash finale su /carnival2025
  RewriteCond %{REQUEST_URI} ^/carnival2025$
  RewriteRule ^carnival2025$ /carnival2025/ [R=301,L]

  # Gestione assets per React app in /wedgallery/
  # Reindirizza richieste di assets dalla root alla sottocartella wedgallery
  RewriteCond %{REQUEST_URI} ^/assets/.*\.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot)$
  RewriteCond %{HTTP_REFERER} ^https?://[^/]+/wedgallery/
  RewriteRule ^assets/(.*)$ /wedgallery/assets/$1 [L]

  # Gestione per file statici React richiesti dalla root ma appartenenti a wedgallery
  RewriteCond %{REQUEST_URI} ^/(.*\.(css|js|png|jpg|jpeg|gif|ico|svg|woff|woff2|ttf|eot))$
  RewriteCond %{HTTP_REFERER} ^https?://[^/]+/wedgallery/
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteRule ^(.*)$ /wedgallery/$1 [L]

  # Reindirizza SPA: /wedgallery
  RewriteCond %{REQUEST_URI} ^/wedgallery(/.*)?$
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^wedgallery(/.*)?$ /wedgallery/index.html [L]

  # Reindirizza SPA: /carnival2025
  RewriteCond %{REQUEST_URI} ^/carnival2025(/.*)?$
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^carnival2025(/.*)?$ /carnival2025/index.html [L]
</IfModule>

# BEGIN WordPress
# Le direttive (linee) tra "BEGIN WordPress" e "END WordPress" sono
# generate dinamicamente, e dovrebbero essere modificate solo tramite i filtri di WordPress.
# Ogni modifica alle direttive tra questi marcatori verr√† sovrascritta.
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteRule .* - [E=HTTP_AUTHORIZATION:%{HTTP:Authorization}]
  RewriteBase /
  RewriteRule ^index\.php$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule . /index.php [L]
</IfModule>
# END WordPress

# Resto del file rimane uguale...
